function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(n)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(e,t,n){if(e){const i=l(e,t,n);return e[0](i)}}function l(e,n,i){return e[1]?t({},t(n.$$scope.ctx,e[1](i?i(n):{}))):n.$$scope.ctx}function c(e,n,i,o){return e[1]?t({},t(n.$$scope.changed||{},e[1](o?o(i):{}))):n.$$scope.changed||{}}function d(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function v(e){return document.createElement(e)}function h(){return e=" ",document.createTextNode(e);var e}function f(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function m(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}let $;function g(e){$=e}function w(){if(!$)throw new Error("Function called outside component initialization");return $}function y(e){w().$$.on_mount.push(e)}function _(){const e=$;return(t,n)=>{const i=e.$$.callbacks[t];if(i){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);i.slice().forEach(t=>{t.call(e,o)})}}}const b=[],x=[],I=[],z=[],E=Promise.resolve();let k=!1;function M(e){I.push(e)}function C(){const e=new Set;do{for(;b.length;){const e=b.shift();g(e),T(e.$$)}for(;x.length;)x.pop()();for(let t=0;t<I.length;t+=1){const n=I[t];e.has(n)||(n(),e.add(n))}I.length=0}while(b.length);for(;z.length;)z.pop()();k=!1}function T(e){e.fragment&&(e.update(e.dirty),o(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(M))}const A=new Set;let L;function D(e,t){e&&e.i&&(A.delete(e),e.i(t))}function S(e,t,n,i){if(e&&e.o){if(A.has(e))return;A.add(e),L.c.push(()=>{A.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}}function H(e,t){e.$$.dirty||(b.push(e),k||(k=!0,E.then(C)),e.$$.dirty=i()),e.$$.dirty[t]=!0}function j(t,a,r,l,c,d){const u=$;g(t);const p=a.props||{},v=t.$$={fragment:null,ctx:null,props:d,update:e,not_equal:c,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:null};let h=!1;var f;v.ctx=r?r(t,p,(e,n)=>{v.ctx&&c(v.ctx[e],v.ctx[e]=n)&&(v.bound[e]&&v.bound[e](n),h&&H(t,e))}):p,v.update(),h=!0,o(v.before_update),v.fragment=l(v.ctx),a.target&&(a.hydrate?v.fragment.l((f=a.target,Array.from(f.childNodes))):v.fragment.c(),a.intro&&D(t.$$.fragment),function(e,t,i){const{fragment:a,on_mount:r,on_destroy:l,after_update:c}=e.$$;a.m(t,i),M(()=>{const t=r.map(n).filter(s);l?l.push(...t):o(t),e.$$.on_mount=[]}),c.forEach(M)}(t,a.target,a.anchor),C()),g(u)}class q{$destroy(){var t,n;n=1,(t=this).$$.fragment&&(o(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function B(e,t,n){const i=Object.create(e);return i.x=t[n],i.i=n,i}function F(e){for(var t,n=e.indicators,i=[],o=0;o<n.length;o+=1)i[o]=N(B(e,n,o));return{c(){t=v("div");for(var e=0;e<i.length;e+=1)i[e].c();m(t,"class","swipe-indicator swipe-indicator-inside svelte-pbdz13")},m(e,n){u(e,t,n);for(var o=0;o<i.length;o+=1)i[o].m(t,null)},p(e,o){if(e.activeIndicator||e.indicators){n=o.indicators;for(var s=0;s<n.length;s+=1){const a=B(o,n,s);i[s]?i[s].p(e,a):(i[s]=N(a),i[s].c(),i[s].m(t,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(e){e&&p(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(i,e)}}}function N(e){var t,n,i;function o(){return e.click_handler(e)}return{c(){m(t=v("span"),"class",n="dot "+(e.activeIndicator==e.i?"is-active":"")+" svelte-pbdz13"),i=f(t,"click",o)},m(e,n){u(e,t,n)},p(i,o){e=o,i.activeIndicator&&n!==(n="dot "+(e.activeIndicator==e.i?"is-active":"")+" svelte-pbdz13")&&m(t,"class",n)},d(e){e&&p(t),i()}}}function O(e){var t,n,i,s,a,$,g,w,y;const _=e.$$slots.default,b=r(_,e,null);var x=e.showIndicators&&F(e);return{c(){t=v("div"),n=v("div"),i=v("div"),s=v("div"),b&&b.c(),a=h(),$=v("div"),g=h(),x&&x.c(),m(s,"class","swipeable-slot-wrapper svelte-pbdz13"),m(i,"class","swipeable-total_elements svelte-pbdz13"),m(n,"class","swipe-item-wrapper svelte-pbdz13"),m($,"class","swipe-handler svelte-pbdz13"),m(t,"class","swipe-panel svelte-pbdz13"),y=[f($,"touchstart",e.onMoveStart),f($,"mousedown",e.onMoveStart)]},l(e){b&&b.l(div0_nodes)},m(o,r){u(o,t,r),d(t,n),d(n,i),d(i,s),b&&b.m(s,null),e.div2_binding(n),d(t,a),d(t,$),e.div3_binding($),d(t,g),x&&x.m(t,null),w=!0},p(e,n){b&&b.p&&e.$$scope&&b.p(c(_,n,e,null),l(_,n,null)),n.showIndicators?x?x.p(e,n):((x=F(n)).c(),x.m(t,null)):x&&(x.d(1),x=null)},i(e){w||(D(b,e),w=!0)},o(e){S(b,e),w=!1},d(n){n&&p(t),b&&b.d(n),e.div2_binding(null),e.div3_binding(null),x&&x.d(),o(y)}}}function P(e){e&&e.preventDefault(),e&&e.stopImmediatePropagation(),e&&e.stopPropagation()}function W(e,t,n){let i,o,s,a,r,l,c,{transitionDuration:d=200,showIndicators:u=!1,autoplay:p=!1,delay:v=1e3,defaultIndex:h=0,active_item:f=0,is_vertical:m=!1}=t,$=0,g=0,_=0,b=0,I=0,z=0,E=m?"pageY":"pageX",k=h||0,M=!1;function C(){let{offsetWidth:e,offsetHeight:t}=s.querySelector(".swipeable-total_elements");_=m?t:e,[...o].forEach((e,t)=>{e.style.transform=A(_*t)}),I=0,b=_*(g-1),h&&q(h)}function T(e){let t={add:"addEventListener",remove:"removeEventListener"};"undefined"!=typeof window&&(window[t[e]]("mousemove",H),window[t[e]]("mouseup",j),window[t[e]]("touchmove",H,{passive:!1}),window[t[e]]("touchend",j,{passive:!1}))}function A(e){return m?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`}function L(e,t=!1){let n=A(e);return`\n      -webkit-transition-duration: ${t?d:"0"}ms;\n      transition-duration: ${t?d:"0"}ms;\n      -webkit-transform: ${n};\n      -ms-transform: ${n};`}var D;y(()=>{o=s.querySelectorAll(".swipeable-item"),n("total_elements",g=o.length),C(),"undefined"!=typeof window&&window.addEventListener("resize",C)}),D=(()=>{"undefined"!=typeof window&&window.removeEventListener("resize",C)}),w().$$.on_destroy.push(D);let S=!1;function H(e){if(S){P(e);let t=e.touches?e.touches[0][E]:e[E],n=r-t+z;n<=b&&n>=0&&([...o].forEach((e,t)=>{e.style.cssText=L(_*t-n)}),I=n,c=t)}}function j(e){P(e);let t=r<c;S=!1;let i=_,s=Math.round(_/50)>Math.abs(r-c);I=l||s?Math.round(I/i)*i:t?Math.floor(I/i)*i:Math.ceil(I/i)*i,r=null,c=null,z=I,n("activeIndicator",$=I/i),[...o].forEach((e,t)=>{e.style.cssText=L(i*t-z,!0)}),n("active_item",f=$),n("defaultIndex",h=f),T("remove")}function q(e){I=_*e,n("activeIndicator",$=e),j()}function B(){q(k),k=k<g-1?++k:0}function F(e){q(Math.max(0,Math.min(e,i.length-1)))}let{$$slots:N={},$$scope:O}=t;return e.$set=(e=>{"transitionDuration"in e&&n("transitionDuration",d=e.transitionDuration),"showIndicators"in e&&n("showIndicators",u=e.showIndicators),"autoplay"in e&&n("autoplay",p=e.autoplay),"delay"in e&&n("delay",v=e.delay),"defaultIndex"in e&&n("defaultIndex",h=e.defaultIndex),"active_item"in e&&n("active_item",f=e.active_item),"is_vertical"in e&&n("is_vertical",m=e.is_vertical),"$$scope"in e&&n("$$scope",O=e.$$scope)}),e.$$.update=((e={total_elements:1,autoplay:1,run_interval:1,delay:1})=>{e.total_elements&&n("indicators",i=Array(g)),(e.autoplay||e.run_interval||e.delay)&&(p&&!M&&n("run_interval",M=setInterval(B,v)),!p&&M&&(clearInterval(M),n("run_interval",M=!1)))}),{transitionDuration:d,showIndicators:u,autoplay:p,delay:v,defaultIndex:h,active_item:f,is_vertical:m,activeIndicator:$,indicators:i,swipeWrapper:s,swipeHandler:a,onMoveStart:function(e){P(e),S=!0,l=!1,setTimeout(function(){l=!0},250),r=e.touches?e.touches[0][E]:e[E],T("add")},changeItem:q,goTo:F,prevItem:function(){F($-1)},nextItem:function(){F($+1)},div2_binding:function(e){x[e?"unshift":"push"](()=>{n("swipeWrapper",s=e)})},div3_binding:function(e){x[e?"unshift":"push"](()=>{n("swipeHandler",a=e)})},click_handler:function({i:e}){q(e)},$$slots:N,$$scope:O}}class V extends q{constructor(e){var t;super(),document.getElementById("svelte-pbdz13-style")||((t=v("style")).id="svelte-pbdz13-style",t.textContent=".swipe-panel.svelte-pbdz13{position:relative;height:var(--sv-swipe-panel-height, 100%);width:var(--sv-swipe-panel-width, inherit)}.swipe-item-wrapper.svelte-pbdz13{overflow:hidden;position:relative;height:inherit;z-index:var(--sv-swipe-panel-wrapper-index, 2);pointer-events:none}.swipeable-total_elements.svelte-pbdz13,.swipeable-slot-wrapper.svelte-pbdz13{position:relative;width:inherit;height:inherit}.swipe-handler.svelte-pbdz13{width:100%;position:absolute;top:var(--sv-swipe-handler-top, 0px);bottom:0px;left:0;right:0;background:rgba(0,0,0,0)}.swipe-indicator.svelte-pbdz13{position:relative;bottom:1.5rem;display:flex;justify-content:center;z-index:var(--sv-swipe-panel-wrapper-index, 2);pointer-events:none}.dot.svelte-pbdz13{height:10px;width:10px;background-color:transparent;border:1px solid grey;border-radius:50%;display:inline-block;margin:0px 2px;cursor:pointer;pointer-events:fill}.swipe-indicator.svelte-pbdz13 .is-active.svelte-pbdz13{background-color:var(--sv-swipe-indicator-active-color, grey)}",d(document.head,t)),j(this,e,W,O,a,["transitionDuration","showIndicators","autoplay","delay","defaultIndex","active_item","is_vertical","goTo","prevItem","nextItem"])}get goTo(){return this.$$.ctx.goTo}get prevItem(){return this.$$.ctx.prevItem}get nextItem(){return this.$$.ctx.nextItem}}function X(e){var t,n,i,o,s;const a=e.$$slots.default,h=r(a,e,null);return{c(){t=v("div"),n=v("div"),h&&h.c(),m(n,"class","swipeable-item-inner svelte-exn8e7"),M(()=>e.div1_resize_handler.call(t)),m(t,"class",o="swipeable-item "+e.classes+" "+(e.active?"is-active":"")+"  svelte-exn8e7"),m(t,"style",e.style)},l(e){h&&h.l(div0_nodes)},m(o,a){u(o,t,a),d(t,n),h&&h.m(n,null),e.div0_binding(n),i=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=document.createElement("object");let i;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.type="text/html",n.tabIndex=-1,n.onload=(()=>{(i=n.contentDocument.defaultView).addEventListener("resize",t)}),/Trident/.test(navigator.userAgent)?(e.appendChild(n),n.data="about:blank"):(n.data="about:blank",e.appendChild(n)),{cancel:()=>{i&&i.removeEventListener&&i.removeEventListener("resize",t),e.removeChild(n)}}}(t,e.div1_resize_handler.bind(t)),s=!0},p(e,n){h&&h.p&&e.$$scope&&h.p(c(a,n,e,null),l(a,n,null)),s&&!e.classes&&!e.active||o===(o="swipeable-item "+n.classes+" "+(n.active?"is-active":"")+"  svelte-exn8e7")||m(t,"class",o),s&&!e.style||m(t,"style",n.style)},i(e){s||(D(h,e),s=!0)},o(e){S(h,e),s=!1},d(n){n&&p(t),h&&h.d(n),e.div0_binding(null),i.cancel()}}}function Y(e,t,n){let{active:i=!1,classes:o="",style:s="",allow_dynamic_height:a=!1}=t,r=null,l=0;const c=_();function d(){if(r){let{scrollHeight:e,clientHeight:t}=r;c("swipe_item_height_change",{height:Math.max(e,t)})}}y(()=>{setTimeout(()=>{a&&requestAnimationFrame(d)},100)});let{$$slots:u={},$$scope:p}=t;return e.$set=(e=>{"active"in e&&n("active",i=e.active),"classes"in e&&n("classes",o=e.classes),"style"in e&&n("style",s=e.style),"allow_dynamic_height"in e&&n("allow_dynamic_height",a=e.allow_dynamic_height),"$$scope"in e&&n("$$scope",p=e.$$scope)}),e.$$.update=((e={active:1,allow_dynamic_height:1,_height:1})=>{(e.active||e.allow_dynamic_height||e._height)&&a&&i&&l&&requestAnimationFrame(d)}),{active:i,classes:o,style:s,allow_dynamic_height:a,swipeItemInner:r,_height:l,div0_binding:function(e){x[e?"unshift":"push"](()=>{n("swipeItemInner",r=e)})},div1_resize_handler:function(){l=this.clientHeight,n("_height",l)},$$slots:u,$$scope:p}}class G extends q{constructor(e){var t;super(),document.getElementById("svelte-exn8e7-style")||((t=v("style")).id="svelte-exn8e7-style",t.textContent=".swipeable-item.svelte-exn8e7{position:absolute;top:0;bottom:0;left:0;right:0;transition-timing-function:ease-out}",d(document.head,t)),j(this,e,Y,X,a,["active","classes","style","allow_dynamic_height"])}}export{V as Swipe,G as SwipeItem};
